webpackJsonp([1],{"/J8e":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n("4YfN"),o=n.n(i),r={name:"where",props:{whereData:{type:[Array,Object,String]},selectedTabName:{type:[Array,String]},selectField:{type:[Array,String]}},data:function(){return{showType:!0,character:"and",cityLists:[{id:0,name:"广东省深圳市"},{id:1,name:"上海市"},{id:2,name:"浙江省杭州市"},{id:3,name:"北京市"},{id:4,name:"湖北省武汉市"},{id:5,name:"广东省广州市"}],confitions:{items:[{tabName:"",field:"",queryCriteria:"",value:"",copyValue:"",Remaining:!0,showValue:!0,type:"",queryCriterias:[],selectedNameOne:"",cityModelShow:!1}]},productFields:[],shopFields:[],stringCriteria:[{value:" like ",label:"相似"},{value:"=",label:"等于"},{value:" is not ",label:"不等于"},{value:" in ",label:"包含"},{value:" not in ",label:"不包含"}],defaultCriteria:[{value:"=",label:"等于"},{value:">",label:"大于"},{value:"<",label:"小于"},{value:">=",label:"大于等于"},{value:"<=",label:"小于等于"},{value:" is not ",label:"不等于"}],boolCriteria:[{value:'="true"',label:"真"},{value:'="false"',label:"假"}],focusItem:0}},computed:{hasType:function(){return this.showType?"primary":"ghost"},hasReverseType:function(){return this.showType?"ghost":"primary"}},mounted:function(){var t=this;this.$nextTick(function(){var e=t;document.addEventListener("click",function(t){e.confitions.items.map(function(t){return t.cityModelShow&&(t.cityModelShow=!1),t})})})},methods:{handleDelete:function(t){console.log(this.confitions.items[t]);for(var e=[],n=this.confitions.items,i=0;i<n.length;i+=1){var r=n[i];if(i!==t){var s="";if(i<t)s=r.selectedNameOne;else if(r.selectedNameOne){var a=r.selectedNameOne.split("-");s=this.selectedTabName.length>1?a[0]+"-"+(i-1)+"-"+a[2]+"-"+a[3]:i-1+"-"+a[1]+"-"+a[2]}e.push(o()({},r,{selectedNameOne:s}))}}this.confitions.items=e,console.log("index",this.confitions.items)},handleToggle:function(){this.showType=!this.showType,"并且"===event.target.innerHTML?this.character="and":this.character="or"},handleAdd:function(){this.confitions.items.push({tabName:"",field:"",queryCriteria:"",value:"",copyValue:"",Remaining:!1,showValue:!1,type:"",queryCriterias:[],cityModelShow:!1}),console.log(this.confitions.items)},handleCriterias:function(t){console.log(666,t);var e=t.split("-");e.length>3?(this.focusItem=e[1],this.confitions.items[this.focusItem].tabName=e[0],this.confitions.items[this.focusItem].field=e[2],this.confitions.items[this.focusItem].Remaining=!0,"String"===e[3]?(this.confitions.items[this.focusItem].showValue=!0,this.confitions.items[this.focusItem].type="String"):"Boolean"===e[3]?(this.confitions.items[this.focusItem].showValue=!1,this.confitions.items[this.focusItem].type="Boolean"):(this.confitions.items[this.focusItem].showValue=!0,this.confitions.items[this.focusItem].type="")):(this.focusItem=e[0],this.confitions.items[this.focusItem].field=e[1],this.confitions.items[this.focusItem].Remaining=!0,"String"===e[2]?(this.confitions.items[this.focusItem].showValue=!0,this.confitions.items[this.focusItem].type="String"):"Boolean"===e[2]?(this.confitions.items[this.focusItem].showValue=!1,this.confitions.items[this.focusItem].type="Boolean"):(this.confitions.items[this.focusItem].showValue=!0,this.confitions.items[this.focusItem].type="")),this.confitions.items[this.focusItem].queryCriteria="",this.confitions.items[this.focusItem].value="",this.confitions.items[this.focusItem].copyValue=""},handleValue:function(t){if([" not in "," in "].includes(this.confitions.items[t].queryCriteria)){var e=this.confitions.items[t].copyValue.split(","),n="(";e.forEach(function(t,i){n=i===e.length-1?n+"'"+t+"'":n+"'"+t+"',"}),this.confitions.items[t].value=n+")"}else this.confitions.items[t].value=this.confitions.items[t].copyValue},handleFocus:function(t){"city"===this.confitions.items[t].field&&this.$set(this.confitions.items[t],"cityModelShow",!0)},cityModelClick:function(t,e){this.confitions.items[t].copyValue=e,this.confitions.items[t].value=e,this.confitions.items[t].cityModelShow=!1}}},s={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("section",{staticClass:"where"},[n("div",{staticClass:"action-con"},[n("ButtonGroup",[n("Button",{attrs:{type:t.hasType},on:{click:t.handleToggle}},[t._v("并且")]),n("Button",{attrs:{type:t.hasReverseType},on:{click:t.handleToggle}},[t._v("或者")])],1)],1),n("div",{staticClass:"conditions-con",on:{click:function(t){t.stopPropagation()}}},[n("Form",{ref:"confitions",attrs:{model:t.confitions}},t._l(t.confitions.items,function(e,i){return n("FormItem",{key:i},[n("Row",[n("Col",{attrs:{span:"6"}},[n("Select",{attrs:{disabled:0===t.selectField.length},on:{"on-change":t.handleCriterias},model:{value:e.selectedNameOne,callback:function(n){t.$set(e,"selectedNameOne",n)},expression:"item.selectedNameOne"}},[t._l(t.selectedTabName,function(e,o){return t.selectedTabName.length>1?n("OptionGroup",{key:o,attrs:{label:e}},t._l(t.whereData[e+"Field"],function(o,r){return n("Option",{key:r,attrs:{value:e+"-"+i+"-"+o.column_name+"-"+o.colum_type}},[t._v(t._s(o.column_name))])})):t._e()}),t._l(t.whereData,function(e,o){return t.selectedTabName.length<=1?n("Option",{key:o,attrs:{value:i+"-"+e.column_name+"-"+e.colum_type}},[t._v(t._s(e.column_name))]):t._e()})],2)],1),e.Remaining?n("Col",{attrs:{span:"6"}},["String"===e.type?n("Select",{attrs:{disabled:0===t.selectField.length},model:{value:e.queryCriteria,callback:function(n){t.$set(e,"queryCriteria",n)},expression:"item.queryCriteria"}},t._l(t.stringCriteria,function(e,i){return n("Option",{key:e.label,attrs:{value:e.value}},[t._v(t._s(e.label))])})):"Boolean"===e.type?n("Select",{attrs:{disabled:0===t.selectField.length},model:{value:e.queryCriteria,callback:function(n){t.$set(e,"queryCriteria",n)},expression:"item.queryCriteria"}},t._l(t.boolCriteria,function(e,i){return n("Option",{key:e.label,attrs:{value:e.value}},[t._v(t._s(e.label))])})):n("Select",{attrs:{disabled:0===t.selectField.length},model:{value:e.queryCriteria,callback:function(n){t.$set(e,"queryCriteria",n)},expression:"item.queryCriteria"}},t._l(t.defaultCriteria,function(e,i){return n("Option",{key:e.label,attrs:{value:e.value}},[t._v(t._s(e.label))])}))],1):t._e(),e.Remaining&&e.showValue?n("Col",{attrs:{span:"6"}},[n("Input",{attrs:{placeholder:"请输入内容",disabled:0===t.selectField.length},on:{"on-blur":function(e){e.stopPropagation(),t.handleValue(i)},"on-focus":function(e){e.stopPropagation(),t.handleFocus(i)}},model:{value:e.copyValue,callback:function(n){t.$set(e,"copyValue",n)},expression:"item.copyValue"}}),e.cityModelShow?n("div",{staticClass:"cityModelShow"},t._l(t.cityLists,function(e){return n("div",{key:e.id,staticClass:"item",on:{click:function(n){t.cityModelClick(i,e.name)}}},[t._v(t._s(e.name))])})):t._e()],1):t._e(),n("Col",{attrs:{span:"1"}},[n("Icon",{attrs:{type:"ios-trash-outline"},on:{click:function(e){t.handleDelete(i)}}})],1)],1)],1)})),n("Row",[n("Col",{attrs:{span:"6"}},[n("Button",{attrs:{type:"dashed",icon:"plus"},on:{click:t.handleAdd}},[t._v("新增查询条件")])],1)],1)],1)])},staticRenderFns:[]};var a=n("vSla")(r,s,!1,function(t){n("3lBk")},null,null);e.default=a.exports},"/r4/":function(t,e,n){var i=n("mEMm"),o=n("r2gs");t.exports=function(t){return i(o(t))}},"3lBk":function(t,e){},"3qm9":function(t,e,n){var i=n("/r4/"),o=n("CFGK"),r=n("Kjxy");t.exports=function(t){return function(e,n,s){var a,c=i(e),u=o(c.length),l=r(s,u);if(t&&n!=n){for(;u>l;)if((a=c[l++])!=a)return!0}else for(;u>l;l++)if((t||l in c)&&c[l]===n)return t||l||0;return!t&&-1}}},"4YfN":function(t,e,n){"use strict";e.__esModule=!0;var i,o=n("aA9S"),r=(i=o)&&i.__esModule?i:{default:i};e.default=r.default||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t}},"5pnV":function(t,e,n){var i=n("eqTP"),o=n("zDlt");t.exports=Object.keys||function(t){return i(t,o)}},"7p3N":function(t,e){t.exports=function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!");return t}},"8Nvm":function(t,e){t.exports=function(t){return"object"==typeof t?null!==t:"function"==typeof t}},"93K8":function(t,e,n){var i=n("8Nvm");t.exports=function(t){if(!i(t))throw TypeError(t+" is not an object!");return t}},AKd3:function(t,e){var n=t.exports={version:"2.5.7"};"number"==typeof __e&&(__e=n)},BRDz:function(t,e){t.exports=function(t){try{return!!t()}catch(t){return!0}}},BplH:function(t,e,n){var i=n("8Nvm"),o=n("C02x").document,r=i(o)&&i(o.createElement);t.exports=function(t){return r?o.createElement(t):{}}},C02x:function(t,e){var n=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},CFGK:function(t,e,n){var i=n("TPu0"),o=Math.min;t.exports=function(t){return t>0?o(i(t),9007199254740991):0}},FITv:function(t,e,n){var i=n("C02x"),o=n("AKd3"),r=n("WwGG"),s=n("bHZz"),a=n("Mcur"),c=function(t,e,n){var u,l,f,p=t&c.F,h=t&c.G,m=t&c.S,d=t&c.P,v=t&c.B,y=t&c.W,b=h?o:o[e]||(o[e]={}),g=b.prototype,_=h?i:m?i[e]:(i[e]||{}).prototype;for(u in h&&(n=e),n)(l=!p&&_&&void 0!==_[u])&&a(b,u)||(f=l?_[u]:n[u],b[u]=h&&"function"!=typeof _[u]?n[u]:v&&l?r(f,i):y&&_[u]==f?function(t){var e=function(e,n,i){if(this instanceof t){switch(arguments.length){case 0:return new t;case 1:return new t(e);case 2:return new t(e,n)}return new t(e,n,i)}return t.apply(this,arguments)};return e.prototype=t.prototype,e}(f):d&&"function"==typeof f?r(Function.call,f):f,d&&((b.virtual||(b.virtual={}))[u]=f,t&c.R&&g&&!g[u]&&s(g,u,f)))};c.F=1,c.G=2,c.S=4,c.P=8,c.B=16,c.W=32,c.U=64,c.R=128,t.exports=c},FzZd:function(t,e,n){"use strict";var i=n("5pnV"),o=n("j6Iq"),r=n("XvZ9"),s=n("OXaN"),a=n("mEMm"),c=Object.assign;t.exports=!c||n("BRDz")(function(){var t={},e={},n=Symbol(),i="abcdefghijklmnopqrst";return t[n]=7,i.split("").forEach(function(t){e[t]=t}),7!=c({},t)[n]||Object.keys(c({},e)).join("")!=i})?function(t,e){for(var n=s(t),c=arguments.length,u=1,l=o.f,f=r.f;c>u;)for(var p,h=a(arguments[u++]),m=l?i(h).concat(l(h)):i(h),d=m.length,v=0;d>v;)f.call(h,p=m[v++])&&(n[p]=h[p]);return n}:c},J35F:function(t,e,n){var i=n("8Nvm");t.exports=function(t,e){if(!i(t))return t;var n,o;if(e&&"function"==typeof(n=t.toString)&&!i(o=n.call(t)))return o;if("function"==typeof(n=t.valueOf)&&!i(o=n.call(t)))return o;if(!e&&"function"==typeof(n=t.toString)&&!i(o=n.call(t)))return o;throw TypeError("Can't convert object to primitive value")}},KV1y:function(t,e,n){var i=n("AKd3"),o=n("C02x"),r=o["__core-js_shared__"]||(o["__core-js_shared__"]={});(t.exports=function(t,e){return r[t]||(r[t]=void 0!==e?e:{})})("versions",[]).push({version:i.version,mode:n("bgFz")?"pure":"global",copyright:"© 2018 Denis Pushkarev (zloirock.ru)"})},Kjxy:function(t,e,n){var i=n("TPu0"),o=Math.max,r=Math.min;t.exports=function(t,e){return(t=i(t))<0?o(t+e,0):r(t,e)}},Mcur:function(t,e){var n={}.hasOwnProperty;t.exports=function(t,e){return n.call(t,e)}},OXaN:function(t,e,n){var i=n("r2gs");t.exports=function(t){return Object(i(t))}},SS50:function(t,e,n){t.exports=!n("sjnA")&&!n("BRDz")(function(){return 7!=Object.defineProperty(n("BplH")("div"),"a",{get:function(){return 7}}).a})},T9r1:function(t,e){var n={}.toString;t.exports=function(t){return n.call(t).slice(8,-1)}},TPu0:function(t,e){var n=Math.ceil,i=Math.floor;t.exports=function(t){return isNaN(t=+t)?0:(t>0?i:n)(t)}},VjRt:function(t,e,n){var i=n("KV1y")("keys"),o=n("pplb");t.exports=function(t){return i[t]||(i[t]=o(t))}},WwGG:function(t,e,n){var i=n("7p3N");t.exports=function(t,e,n){if(i(t),void 0===e)return t;switch(n){case 1:return function(n){return t.call(e,n)};case 2:return function(n,i){return t.call(e,n,i)};case 3:return function(n,i,o){return t.call(e,n,i,o)}}return function(){return t.apply(e,arguments)}}},XvZ9:function(t,e){e.f={}.propertyIsEnumerable},aA9S:function(t,e,n){t.exports={default:n("vWcR"),__esModule:!0}},bHZz:function(t,e,n){var i=n("lIiZ"),o=n("go9Q");t.exports=n("sjnA")?function(t,e,n){return i.f(t,e,o(1,n))}:function(t,e,n){return t[e]=n,t}},bgFz:function(t,e){t.exports=!0},eqTP:function(t,e,n){var i=n("Mcur"),o=n("/r4/"),r=n("3qm9")(!1),s=n("VjRt")("IE_PROTO");t.exports=function(t,e){var n,a=o(t),c=0,u=[];for(n in a)n!=s&&i(a,n)&&u.push(n);for(;e.length>c;)i(a,n=e[c++])&&(~r(u,n)||u.push(n));return u}},go9Q:function(t,e){t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},j6Iq:function(t,e){e.f=Object.getOwnPropertySymbols},jUTB:function(t,e,n){var i=n("FITv");i(i.S+i.F,"Object",{assign:n("FzZd")})},lIiZ:function(t,e,n){var i=n("93K8"),o=n("SS50"),r=n("J35F"),s=Object.defineProperty;e.f=n("sjnA")?Object.defineProperty:function(t,e,n){if(i(t),e=r(e,!0),i(n),o)try{return s(t,e,n)}catch(t){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(t[e]=n.value),t}},mEMm:function(t,e,n){var i=n("T9r1");t.exports=Object("z").propertyIsEnumerable(0)?Object:function(t){return"String"==i(t)?t.split(""):Object(t)}},pplb:function(t,e){var n=0,i=Math.random();t.exports=function(t){return"Symbol(".concat(void 0===t?"":t,")_",(++n+i).toString(36))}},r2gs:function(t,e){t.exports=function(t){if(void 0==t)throw TypeError("Can't call method on  "+t);return t}},sjnA:function(t,e,n){t.exports=!n("BRDz")(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},vWcR:function(t,e,n){n("jUTB"),t.exports=n("AKd3").Object.assign},zDlt:function(t,e){t.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")}});