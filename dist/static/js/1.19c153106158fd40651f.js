webpackJsonp([1],{"8TRk":function(t,e){},"x/AD":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var l={name:"tableView",props:{data:{type:[Object,String,Array]}},watch:{data:function(t){this.initialData=this.data}},data:function(){return{showIndexes:!1,field:[],fields:[],initialData:"",selectConditions:"",tableName:[]}},methods:{handleFields:function(t){this.field=[],this.fields=[],1===t.length?this.fields=this.initialData[t[0]+"Field"]:2===t.length&&(this.fields=this.initialData)},handleOption:function(){0!==this.field.length&&(this.selectConditions=this.field.join())},createIndexes:function(){this.fields&&this.selectConditions?this.showIndexes=!0:this.$Message.error("请选择要创建的字段")}}},a={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("section",{staticClass:"tableView"},[n("Card",[n("p",{attrs:{slot:"title"},slot:"title"},[n("Icon",{attrs:{type:"android-options"}}),t._v("索引")],1),n("div",{staticClass:"table-con"},[n("CheckboxGroup",{on:{"on-change":t.handleFields},model:{value:t.tableName,callback:function(e){t.tableName=e},expression:"tableName"}},[n("Checkbox",{attrs:{label:"product"}}),n("Checkbox",{attrs:{label:"shop"}})],1)],1),n("div",{staticClass:"field-con"},[n("Select",{staticStyle:{width:"300px"},attrs:{multiple:"multiple","not-found-text":"请选择查询字段"},on:{"on-change":t.handleOption},model:{value:t.field,callback:function(e){t.field=e},expression:"field"}},[2===t.tableName.length?n("OptionGroup",{attrs:{label:"product"}},t._l(t.fields.productField,function(e,l){return n("Option",{key:l,attrs:{value:"product."+e.column_name}},[t._v(t._s(e.column_name))])})):t._e(),2===t.tableName.length?n("OptionGroup",{attrs:{label:"shop"}},t._l(t.fields.shopField,function(e,l){return n("Option",{key:l,attrs:{value:"shop."+e.column_name}},[t._v(t._s(e.column_name))])})):t._l(t.fields,function(e,l){return n("Option",{key:l,attrs:{value:""+e.column_name}},[t._v(t._s(e.column_name))])})],2)],1)]),n("Button",{staticStyle:{"margin-top":"10px",float:"right"},attrs:{type:"primary"},on:{click:t.createIndexes}},[t._v("创建索引")]),n("Modal",{attrs:{title:"创建索引"},model:{value:t.showIndexes,callback:function(e){t.showIndexes=e},expression:"showIndexes"}},[n("p",{staticStyle:{"word-break":"break-all"}},[t._v("正在创建索引.....")])])],1)},staticRenderFns:[]};var i=n("vSla")(l,a,!1,function(t){n("8TRk")},null,null);e.default=i.exports}});